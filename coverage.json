{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-24T17:31:26.024Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 11,
    "implemented": 6,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Add an Attendance data model to the backend that stores class sessions per student/booking with a present/absent status. Admin can mark students present or absent for each session. Store session date, course/booking reference, and attendance status per student.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-10",
        "summary": "Trigger backend visitor activity logging from the frontend: record a login event when an authenticated user lands on the app, and record a course-view event when an authenticated user views a course detail they have not purchased.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/App.tsx",
          "frontend/src/components/CourseOffering.tsx",
          "frontend/src/hooks/useQueries.ts"
        ],
        "matchedFiles": [
          "frontend/src/App.tsx",
          "frontend/src/components/CourseOffering.tsx",
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-11",
        "summary": "Add an Unpurchased Visitor Tracking section to the Admin Dashboard showing a table of logged-in users who have not purchased, with columns for user principal/name (if available), login timestamps, and list of courses viewed without purchase.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/VisitorTrackingView.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/VisitorTrackingView.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ]
      },
      {
        "id": "REQ-2",
        "summary": "Expose backend query functions that return attendance records filterable by date range, showing total classes held in that range and how many a student attended, including an attendance rate percentage.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-3",
        "summary": "Add an Attendance section to the Admin Dashboard that lists enrolled students, allows the admin to select a student, choose a date range, and mark each session in that range as present or absent. Display total classes held, attended, and attendance rate.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/AttendanceManager.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/AttendanceManager.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ]
      },
      {
        "id": "REQ-4",
        "summary": "Add an Attendance tab to the Student Portal that shows the authenticated student's own attendance records. Include a date-range filter and display total classes held vs attended with attendance rate.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/StudentAttendanceView.tsx",
          "frontend/src/components/StudentPortal.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/StudentAttendanceView.tsx",
          "frontend/src/components/StudentPortal.tsx"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Add a DiscountCode data model to the backend with fields: code string, percentage (0â€“100), isActive boolean, isUsed boolean, and usedByPrincipal. Provide admin functions to generate a new single-use percentage-based discount code, list all codes, and deactivate a code.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-6",
        "summary": "Add a backend function to validate and apply a discount code at checkout. It should verify the code is active and unused, return the discount percentage, and mark it as used (tied to the purchasing user's principal) when a booking/purchase is confirmed.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-7",
        "summary": "Add a Discount Codes section to the Admin Dashboard where the admin can generate new single-use percentage-based codes, view all codes with their status (active, used, deactivated), and deactivate any active code.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/DiscountCodeManager.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/DiscountCodeManager.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/AdminDashboard.tsx"
        ]
      },
      {
        "id": "REQ-8",
        "summary": "Integrate the discount code input into the booking/checkout flow (BookingForm or UpiPaymentStep). Allow the user to enter a discount code, validate it against the backend, and apply the percentage discount to the displayed total before confirming payment.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/UpiPaymentStep.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/BookingConfirmation.tsx",
          "frontend/src/components/BookingFlowManager.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/UpiPaymentStep.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/BookingFlowManager.tsx"
        ]
      },
      {
        "id": "REQ-9",
        "summary": "Add a VisitorActivity data model to the backend that records login events and course-view events for authenticated users who have not purchased a course. Store principal, timestamp, event type (login or courseView), and course ID (for view events).",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/AdminDashboard.tsx",
    "frontend/src/components/AdminSupportMessages.tsx",
    "frontend/src/components/AttendanceManager.tsx",
    "frontend/src/components/BookingFlowManager.tsx",
    "frontend/src/components/CourseOffering.tsx",
    "frontend/src/components/DiscountCodeManager.tsx",
    "frontend/src/components/StudentAttendanceView.tsx",
    "frontend/src/components/StudentPortal.tsx",
    "frontend/src/components/StudentSupportView.tsx",
    "frontend/src/components/UpiPaymentStep.tsx",
    "frontend/src/components/VisitorTrackingView.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useQueries.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}